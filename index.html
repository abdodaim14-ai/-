<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ø§Ø¹Ù… Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ Ù„Ù„Ù‚Ø±Ø§Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ø±Ù…Ø¶Ø§Ù† 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&family=Almarai:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <style>
        :root { 
            --gold: #ffcc33; 
            --gold-glow: rgba(255, 204, 51, 0.5); 
            --ramadan-green: #064e3b;
            --ramadan-red: #991b1b;
        }
        
        body {
            font-family: 'Almarai', sans-serif;
            margin: 0; color: #fff;
            background: linear-gradient(to bottom, #001a11, #000);
            min-height: 100vh; padding: 20px 0 120px 0;
            overflow-x: hidden; position: relative;
        }

        /* ÙÙˆØ§Ù†ÙŠØ³ Ù…ØªØ­Ø±ÙƒØ© */
        .lantern {
            position: fixed; top: -20px; width: 60px; z-index: 10;
            filter: drop-shadow(0 0 10px var(--gold));
            transition: transform 0.1s ease-out;
            pointer-events: none;
        }
        .lantern-right { right: 10px; }
        .lantern-left { left: 10px; }

        /* Ø¹Ù†Ø§ØµØ± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ø±ÙŠÙƒ Ø¨Ø§Ù„Ù„Ù…Ø³ */
        .draggable-star {
            position: absolute; color: var(--gold); font-size: 1.5rem;
            cursor: grab; z-index: 100; touch-action: none;
        }

        #interactive-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }

        .container { width: 92%; max-width: 500px; margin: auto; position: relative; z-index: 5; }
        
        .header-section { text-align: center; margin-bottom: 25px; }
        .logo-main { width: 130px; filter: drop-shadow(0 0 15px var(--gold-glow)); animation: pulse 2s infinite; }
        
        /* Ø¹Ø¯Ø§Ø¯ Ø±Ù…Ø¶Ø§Ù† */
        .ramadan-countdown {
            background: rgba(6, 78, 59, 0.7); border: 2px solid var(--gold);
            border-radius: 15px; padding: 10px; margin-bottom: 20px;
            text-align: center; font-family: 'Cairo';
        }
        .countdown-title { color: var(--gold); font-size: 0.9rem; margin-bottom: 5px; }
        .countdown-timer { font-size: 1.3rem; font-weight: 900; letter-spacing: 2px; }

        .info-bar { 
            background: rgba(0, 0, 0, 0.8); border: 1px solid var(--gold); 
            border-radius: 20px; padding: 15px; margin-bottom: 25px; 
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; 
            text-align: center; backdrop-filter: blur(10px); 
        }
        
        .hijri-event-tag { 
            font-size: 0.8rem; color: #000; background: var(--gold); 
            padding: 8px; border-radius: 8px; font-weight: 900; 
            margin-top: 10px; display: block; line-height: 1.4; 
        }

        .form-card { 
            background: rgba(10, 10, 10, 0.95); border: 2px solid var(--gold); 
            padding: 25px; border-radius: 25px; text-align: center; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.8); 
        }

        .field { text-align: right; margin-bottom: 15px; }
        .field label { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; color: var(--gold); font-size: 0.9rem; font-weight: bold; }
        .field input, .field select { 
            width: 100%; padding: 12px; background: #000; 
            border: 1px solid #333; color: #fff; border-radius: 10px; 
        }

        .main-btn { 
            width: 100%; background: linear-gradient(45deg, #ffcc33, #e6b800); 
            color: #000; padding: 16px; border: none; border-radius: 50px; 
            font-family: 'Cairo'; font-weight: 900; cursor: pointer; 
        }

        #loadingOverlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.98); z-index: 9999; justify-content: center; 
            align-items: center; flex-direction: column; 
        }
        
        .ramadan-msg { color: var(--gold); font-family: 'Cairo'; font-style: italic; margin-top: 10px; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<img src="https://i.ibb.co/LzfM5p3/lantern.png" class="lantern lantern-left" id="lanternL" alt="ÙØ§Ù†ÙˆØ³">
<img src="https://i.ibb.co/LzfM5p3/lantern.png" class="lantern lantern-right" id="lanternR" alt="ÙØ§Ù†ÙˆØ³">

<div class="draggable-star" style="top:100px; left:50px;"><i class="fas fa-moon"></i></div>
<div class="draggable-star" style="top:150px; right:50px;"><i class="fas fa-star"></i></div>

<canvas id="interactive-bg"></canvas>

<div id="loadingOverlay">
    <div id="progressText" style="color:var(--gold); font-size:3rem; font-weight:900;">0%</div>
    <div id="quizBox" style="border:2px solid var(--gold); padding:20px; border-radius:20px; background:#111; width:80%; text-align:center;">
        <div id="quizQ" style="color:var(--gold); font-weight:bold;">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹...</div>
        <div id="quizA" style="margin-top:10px; font-size:0.9rem;"></div>
    </div>
</div>

<div class="container">
    <div class="header-section">
        <img src="https://i.postimg.cc/0yZxfgx2/Picsart-26-01-13-17-01-28-072.png" class="logo-main">
        <div style="font-family:'Cairo'; color:var(--gold); font-size:1.4rem;">Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™ 2026</div>
        <div class="ramadan-msg">"Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù†Ø§ ÙÙŠ Ø´Ø¹Ø¨Ø§Ù† ÙˆØ¨Ù„ØºÙ†Ø§ Ø±Ù…Ø¶Ø§Ù†"</div>
    </div>

    <div class="ramadan-countdown">
        <div class="countdown-title" id="cdTitle">Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø´Ù‡Ø± Ø§Ù„Ø®ÙŠØ±</div>
        <div class="countdown-timer" id="cdTimer">00 : 00 : 00 : 00</div>
    </div>

    <div class="info-bar">
        <div class="info-item" style="border-left: 1px solid rgba(255,204,51,0.3)">
            <i class="fas fa-kaaba" style="color:var(--gold)"></i>
            <div id="liveTime" style="font-weight:900; color:var(--gold)">00:00:00</div>
            <div id="combinedDate" style="font-size:0.75rem;">-- -- ----</div>
        </div>
        <div class="info-item">
            <i class="fas fa-users" style="color:var(--gold)"></i>
            <div id="userCounter" style="font-weight:900;">13</div>
            <div style="font-size:0.75rem;">Ù‚Ø§Ø±Ø¦ Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§</div>
            <div id="hijriEvent" class="hijri-event-tag">Ø­Ø¯Ø« Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ</div>
        </div>
    </div>

    <div class="form-card">
        <form id="talentForm">
            <div class="field">
                <label><i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
                <input type="text" id="name" required placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ">
            </div>
            
            <div class="field">
                <label><i class="fab fa-whatsapp"></i> Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</label>
                <input type="tel" id="phone" required>
            </div>

            <div class="field">
                <label><i class="fas fa-quran"></i> Ø§Ù„Ø³ÙˆØ±Ø©</label>
                <select id="surah" required><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©..</option></select>
            </div>
            
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                <div class="field"><label>Ù…Ù† Ø¢ÙŠØ©</label><select id="ayahFrom"></select></div>
                <div class="field"><label>Ø¥Ù„Ù‰ Ø¢ÙŠØ©</label><select id="ayahTo"></select></div>
            </div>

            <div class="upload-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin:15px 0;">
                <div onclick="document.getElementById('imgIn').click()" style="border:1px dashed var(--gold); padding:10px; border-radius:10px; cursor:pointer;">
                    <i class="fas fa-camera"></i><br><small id="imgT">Ø§Ù„ØµÙˆØ±Ø©</small>
                    <input type="file" id="imgIn" accept="image/*" style="display:none" required>
                </div>
                <div onclick="document.getElementById('fileIn').click()" style="border:1px dashed var(--gold); padding:10px; border-radius:10px; cursor:pointer;">
                    <i class="fas fa-microphone"></i><br><small id="fileT">Ø§Ù„ØªÙ„Ø§ÙˆØ©</small>
                    <input type="file" id="fileIn" accept="audio/*" style="display:none" required>
                </div>
            </div>
            
            <button type="submit" class="main-btn">Ø§Ù†Ø´Ø± Ù†ÙˆØ± ØªÙ„Ø§ÙˆØªÙƒ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†</button>
        </form>
    </div>

    <div style="text-align:center; margin-top:30px;">
        <div style="color:var(--gold); font-family:'Cairo'; font-size:1.2rem;">Ø®Ø§Ø¯Ù… Ø§Ù„Ù‚Ø±Ø¢Ù†/ Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ù…ÙƒÙŠ</div>
        <p style="font-size:0.8rem; opacity:0.7;">Ù†Ø³Ø£Ù„ÙƒÙ… Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø¨Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø®Ù„Ø§Øµ âœ¨</p>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyGPQV4mXNXjcwSzWyoVMicInAUOo-xtUKOQRMZ0pW5YtsjEuXKTJxoSNeL_WYzWx7EKA/exec';

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ù…Ø¶Ø§Ù† ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ®
    function updateRamadanUI() {
        const now = new Date();
        const ramadan2026 = new Date('February 18, 2026 00:00:00'); // ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù„Ø¹Ø§Ù… 2026
        const endRamadan = new Date('March 20, 2026 00:00:00');
        
        let target = ramadan2026;
        if (now > ramadan2026 && now < endRamadan) {
            document.getElementById('cdTitle').innerText = "Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ";
            target = endRamadan;
        } else if (now > endRamadan) {
            document.getElementById('cdTitle').innerText = "ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ø·Ø§Ø¹ØªÙƒÙ…";
            document.getElementById('cdTimer').innerText = "Ø¹ÙŠØ¯ Ù…Ø¨Ø§Ø±Ùƒ";
            return;
        }

        const diff = target - now;
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / 1000 / 60) % 60);
        const s = Math.floor((diff / 1000) % 60);
        document.getElementById('cdTimer').innerText = `${d}ÙŠ : ${h}Ø³ : ${m}Ø¯ : ${s}Ø«`;
    }
    setInterval(updateRamadanUI, 1000);

    // Ø­Ø±ÙƒØ© Ø§Ù„ÙØ§Ù†ÙˆØ³ Ù…Ø¹ Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„Ù‡Ø§ØªÙ
    window.addEventListener('deviceorientation', (event) => {
        let tilt = event.gamma; // Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…ÙŠÙˆÙ„ ÙŠÙ…ÙŠÙ†Ø§Ù‹ ÙˆÙŠØ³Ø§Ø±Ø§Ù‹
        document.getElementById('lanternL').style.transform = `rotate(${tilt/2}deg)`;
        document.getElementById('lanternR').style.transform = `rotate(${tilt/2}deg)`;
    });

    // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù„Ù„Ù…Ø³
    document.querySelectorAll('.draggable-star').forEach(el => {
        el.onpointermove = (e) => {
            if(e.buttons > 0){
                el.style.left = (e.clientX - 15) + 'px';
                el.style.top = (e.clientY - 15) + 'px';
            }
        };
    });

    // 100 Ø¥Ø´Ø±Ø§Ù‚Ø© ÙˆØ£Ø¯Ø¹ÙŠØ© ÙˆÙ‡Ø¯Ù‰ Ù†Ø¨ÙˆÙŠ
    const mixedInfo = [
        { q: "Ø¥Ø´Ø±Ø§Ù‚Ø© Ù‚Ø±Ø¢Ù†ÙŠØ©", a: "ÙˆØ±ØªÙ„ Ø§Ù„Ù‚Ø±Ø¢Ù† ØªØ±ØªÙŠÙ„Ø§Ù‹: Ø§Ù„ØªØ±ØªÙŠÙ„ ØªØ¬ÙˆÙŠØ¯ Ø§Ù„Ø­Ø±ÙˆÙ ÙˆÙ…Ø¹Ø±ÙØ© Ø§Ù„ÙˆÙ‚ÙˆÙ." },
        { q: "Ù…Ù† Ù‡Ø¯Ù‰ Ø§Ù„Ù†Ø¨ÙˆØ©", a: "Ø®ÙŠØ±ÙƒÙ… Ù…Ù† ØªØ¹Ù„Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ¹Ù„Ù…Ù‡." },
        { q: "Ø¯Ø¹Ø§Ø¡ Ø±Ù…Ø¶Ø§Ù†ÙŠ", a: "Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø±Ø¨ÙŠØ¹ Ù‚Ù„ÙˆØ¨Ù†Ø§ ÙˆÙ†ÙˆØ± ØµØ¯ÙˆØ±Ù†Ø§." },
        { q: "Ø­Ø¯Ø« ÙÙŠ Ù…Ø«Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…", a: "ÙØªØ­ Ù…ÙƒØ©: Ø£Ø¹Ø¸Ù… Ù†ØµØ± ÙÙŠ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø³Ù„Ø§Ù… ÙƒØ§Ù† ÙÙŠ Ø±Ù…Ø¶Ø§Ù†." },
        { q: "Ø¥Ø´Ø±Ø§Ù‚Ø©", a: "Ø§Ù„Ù‚Ø±Ø¢Ù† ÙŠØ´ÙØ¹ Ù„ØµØ§Ø­Ø¨Ù‡ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©ØŒ ÙÙƒÙ† Ù…Ù† Ø£Ù‡Ù„Ù‡." }
        // ... ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù€ 100 Ù†Øµ Ù‡Ù†Ø§ Ø¨Ø§Ù„ØªØªØ§Ø¨Ø¹
    ];

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØ§Ù„ÙˆÙ‚Øª
    const surahNames = ["Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„","Ø§Ù„ØªÙˆØ¨Ø©","ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù"];
    const sSelect = document.getElementById('surah');
    surahNames.forEach(s => sSelect.add(new Option(s, s)));

    function updateClock() {
        const now = new Date();
        document.getElementById('liveTime').innerText = now.toLocaleTimeString('ar-EG');
        const hijri = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-umalqura', {day:'numeric', month:'long', year:'numeric'}).format(now);
        document.getElementById('combinedDate').innerText = hijri;
    }
    setInterval(updateClock, 1000);

    // ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¬ÙˆØ¬Ù„ Ø´ÙŠØª
    document.getElementById('talentForm').onsubmit = async function(e) {
        e.preventDefault();
        const overlay = document.getElementById('loadingOverlay');
        const prog = document.getElementById('progressText');
        overlay.style.display = 'flex';
        
        let idx = 0;
        const infoInt = setInterval(() => {
            document.getElementById('quizQ').innerText = mixedInfo[idx].q;
            document.getElementById('quizA').innerText = mixedInfo[idx].a;
            idx = (idx + 1) % mixedInfo.length;
        }, 4000);

        try {
            const photo = await toB64(document.getElementById('imgIn').files[0]);
            const audio = await toB64(document.getElementById('fileIn').files[0]);
            
            const data = {
                Name: document.getElementById('name').value,
                Phone: document.getElementById('phone').value,
                Surah: document.getElementById('surah').value,
                Photo: photo.split(',')[1],
                Audio: audio.split(',')[1]
            };

            let p = 0;
            const pInt = setInterval(() => { if(p < 95) p++; prog.innerText = p + "%"; }, 100);

            await fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            clearInterval(pInt); clearInterval(infoInt);
            prog.innerText = "100%";
            alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ„Ø§ÙˆØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ù…ÙŠØ²Ø§Ù† Ø­Ø³Ù†Ø§ØªÙƒ!");
            location.reload();
        } catch (err) {
            overlay.style.display = 'none';
            alert("Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
        }
    };

    const toB64 = f => new Promise((res, rej) => {
        const r = new FileReader(); r.readAsDataURL(f);
        r.onload = () => res(r.result); r.onerror = e => rej(e);
    });

    // Ø®Ù„ÙÙŠØ© Ø¨Ø³ÙŠØ·Ø©
    const canvas = document.getElementById('interactive-bg');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    function drawStars() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "#ffcc33";
        for(let i=0; i<50; i++){
            ctx.beginPath();
            ctx.arc(Math.random()*canvas.width, Math.random()*canvas.height, Math.random()*2, 0, Math.PI*2);
            ctx.fill();
        }
    }
    setInterval(drawStars, 1000);
</script>
</body>
</html>
