<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بوابة القراء العالمية | التسجيل الرسمي 2026</title>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;700;900&family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            --gold: #d4af37;
            --dark-gold: #996515;
            --bg-black: #080a0c;
            --card-bg: #111418;
            --input-focus: #1c1f26;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }

        body {
            background: var(--bg-black);
            color: #fff;
            font-family: 'Cairo', sans-serif;
            background-image: radial-gradient(circle at 50% -20%, #1e293b, transparent);
            min-height: 100vh;
        }

        /* --- ركن التقويم الهجري المميز --- */
        .calendar-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        .hijri-corner {
            background: linear-gradient(145deg, var(--dark-gold), var(--gold));
            padding: 10px 25px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
            text-align: center;
            border: 1px solid #fff;
        }

        .hijri-corner span {
            display: block;
            color: #000;
            font-family: 'Reem Kufi', sans-serif;
            font-weight: 700;
        }

        .miladi-date { font-size: 0.9rem; color: #888; margin-top: 10px; }

        /* --- واجهة النموذج --- */
        .main-wrapper {
            max-width: 1100px;
            margin: 50px auto;
            padding: 20px;
        }

        .app-card {
            background: var(--card-bg);
            border-radius: 40px;
            padding: 60px;
            border: 1px solid rgba(255,255,255,0.05);
            position: relative;
            box-shadow: 0 40px 100px rgba(0,0,0,0.5);
        }

        .header-section { text-align: center; margin-bottom: 50px; }
        .header-section img { width: 300px; filter: drop-shadow(0 0 20px var(--gold)); }

        /* --- حقل الاسم الاحترافي --- */
        .input-box {
            position: relative;
            margin-bottom: 35px;
        }

        .input-box label {
            display: block;
            color: var(--gold);
            font-weight: 700;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .premium-input {
            width: 100%;
            background: #000;
            border: 2px solid #222;
            padding: 22px;
            border-radius: 18px;
            color: #fff;
            font-size: 1.2rem;
            transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .premium-input:focus {
            border-color: var(--gold);
            background: var(--input-focus);
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.1);
        }

        .input-hint {
            font-size: 0.85rem;
            color: #666;
            margin-top: 8px;
            display: block;
            font-style: italic;
        }

        .example-badge {
            display: inline-block;
            background: rgba(212, 175, 55, 0.1);
            color: var(--gold);
            padding: 2px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            margin-right: 10px;
        }

        /* --- شبكة الاختيارات --- */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        /* --- عرض الآيات الذكي --- */
        .verse-preview-zone {
            background: #0a0c10;
            border-radius: 25px;
            padding: 30px;
            margin: 30px 0;
            border-right: 5px solid var(--gold);
        }

        .quran-text {
            font-family: 'Amiri', serif;
            font-size: 2.2rem;
            color: #e2e8f0;
            line-height: 1.8;
            text-align: center;
        }

        /* --- زر الإرسال الإمبراطوري --- */
        .btn-submit {
            width: 100%;
            padding: 30px;
            background: linear-gradient(90deg, var(--dark-gold), var(--gold));
            border: none;
            border-radius: 20px;
            font-size: 1.8rem;
            font-weight: 900;
            color: #000;
            cursor: pointer;
            transition: 0.5s;
            margin-top: 40px;
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.2);
        }

        .btn-submit:hover {
            transform: translateY(-5px);
            filter: brightness(1.2);
            letter-spacing: 2px;
        }

        /* شاشة التحميل */
        #loading-overlay {
            display: none; position: fixed; inset: 0; background: #000; z-index: 10000;
            justify-content: center; align-items: center; flex-direction: column;
        }

        .gold-spinner {
            width: 80px; height: 80px; border: 5px solid #111; border-top: 5px solid var(--gold);
            border-radius: 50%; animation: spin 1s infinite linear;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .app-card { padding: 30px 20px; }
        }
    </style>
</head>
<body>

<div id="loading-overlay">
    <div class="gold-spinner"></div>
    <h2 style="color: var(--gold); margin-top: 20px;">جاري توثيق البيانات...</h2>
</div>

<nav class="calendar-nav">
    <div class="miladi-date">
        <i class="far fa-calendar-alt"></i> <span id="m-date">--/--/2026</span>
    </div>
    
    <div class="header-logo">
        <img src="https://i.postimg.cc/0yZxfgx2/Picsart-26-01-13-17-01-28-072.png" height="60">
    </div>

    <div class="hijri-corner">
        <span style="font-size: 0.7rem; opacity: 0.8;">التاريخ الهجري</span>
        <span id="h-date" style="font-size: 1.2rem;">-- رمضان 1447</span>
    </div>
</nav>

<div class="main-wrapper">
    <div class="app-card">
        
        <div class="header-section">
            <h1 style="font-family: 'Reem Kufi'; font-size: 2.5rem; color: var(--gold);">طلب اعتماد تلاوة</h1>
            <p style="color: #888;">الرجاء ملء البيانات بدقة لضمان ظهورها بشكل صحيح في السجلات</p>
        </div>

        <form id="pro-form">
            <div class="input-box">
                <label>الاسم الكامل</label>
                <input type="text" id="user-name" class="premium-input" placeholder="اكتب اسمك هنا..." required>
                <div class="input-hint">
                    <i class="fas fa-info-circle"></i> يفضل كتابة الاسم كما تحب أن يظهر في شهادة المشاركة 
                    <span class="example-badge">مثال: عبد الرحمن أحمد</span>
                </div>
            </div>

            <div class="form-grid">
                <div class="input-box">
                    <label>رقم الواتساب</label>
                    <input type="tel" id="user-phone" class="premium-input" placeholder="+20 10..." required>
                </div>
                <div class="input-box">
                    <label>السورة</label>
                    <select id="user-sura" class="premium-input" onchange="System.updateAyat()"></select>
                </div>
            </div>

            <div class="form-grid">
                <div class="input-box">
                    <label>من آية</label>
                    <select id="user-from" class="premium-input" onchange="System.fetchPreview('from')"></select>
                </div>
                <div class="input-box">
                    <label>إلى آية</label>
                    <select id="user-to" class="premium-input" onchange="System.fetchPreview('to')"></select>
                </div>
            </div>

            <div class="verse-preview-zone">
                <p style="color: var(--gold); font-size: 0.9rem; margin-bottom: 10px;">معاينة النص القرآني:</p>
                <div id="quran-display" class="quran-text">يرجى اختيار الآية...</div>
            </div>

            <div class="form-grid">
                <div style="text-align: center; padding: 20px; border: 1px dashed #333; border-radius: 20px;">
                    <i class="fas fa-image" style="font-size: 2rem; color: var(--gold);"></i>
                    <p style="margin-top: 10px;">الصورة الشخصية</p>
                    <input type="file" accept="image/*" style="margin-top: 10px; width: 100%;">
                </div>
                <div style="text-align: center; padding: 20px; border: 1px dashed #333; border-radius: 20px;">
                    <i class="fas fa-microphone" style="font-size: 2rem; color: var(--gold);"></i>
                    <p style="margin-top: 10px;">ملف التلاوة</p>
                    <input type="file" accept="audio/*" style="margin-top: 10px; width: 100%;">
                </div>
            </div>

            <button type="submit" class="btn-submit">تأكيد وإرسال البيانات</button>
        </form>

    </div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyFuMa99FTBcykVxdxd_0Stn2mQqeb9vE5ArZY39kQCyXNaALYcXsg5plbdpbjlUmXhsQ/exec";

const System = {
    suras: [
        ["الفاتحة", 7], ["البقرة", 286], ["آل عمران", 200], ["النساء", 176], ["المائدة", 120], ["الأنعام", 165], ["الأعراف", 206], ["الأنفال", 75], ["التوبة", 129], ["يونس", 109], ["هود", 123], ["يوسف", 111], ["الرعد", 43], ["إبراهيم", 52], ["الحجر", 99], ["النحل", 128], ["الإسراء", 111], ["الكهف", 110], ["مريم", 98], ["طه", 135], ["الأنبياء", 112], ["الحج", 78], ["المؤمنون", 118], ["النور", 64], ["الفرقان", 77], ["الشعراء", 227], ["النمل", 93], ["القصص", 88], ["العنكبوت", 69], ["الروم", 60], ["لقمان", 34], ["السجدة", 30], ["الأحزاب", 73], ["سبأ", 54], ["فاطر", 45], ["يس", 83], ["الصافات", 182], ["ص", 88], ["الزمر", 75], ["غافر", 85], ["فصلت", 54], ["الشورى", 53], ["الزخرف", 89], ["الدخان", 59], ["الجاثية", 37], ["الأحقاف", 35], ["محمد", 38], ["الفتح", 29], ["الحجرات", 18], ["ق", 45], ["الذاريات", 60], ["الطور", 49], ["النجم", 62], ["القمر", 55], ["الرحمن", 78], ["الواقعة", 96], ["الحديد", 29], ["المجادلة", 22], ["الحشر", 24], ["الممتحنة", 13], ["الصف", 14], ["الجمعة", 11], ["المنافقون", 11], ["التغابن", 18], ["الطلاق", 12], ["التحريم", 12], ["الملك", 30], ["القلم", 52], ["الحاقة", 52], ["المعارج", 44], ["نوح", 28], ["الجن", 28], ["المزمل", 20], ["المدثر", 56], ["القيامة", 40], ["الإنسان", 31], ["المرسلات", 50], ["النبأ", 40], ["النازعات", 46], ["عبس", 42], ["التكوير", 29], ["الانفطار", 19], ["المطففين", 36], ["الانشقاق", 25], ["البروج", 22], ["الطارق", 17], ["الأعلى", 19], ["الغاشية", 26], ["الفجر", 30], ["البلد", 20], ["الشمس", 15], ["الليل", 21], ["الضحى", 11], ["الشرح", 8], ["التين", 8], ["العلق", 19], ["القدر", 5], ["البينة", 8], ["الزلزلة", 8], ["العاديات", 11], ["القارعة", 11], ["التكاثر", 8], ["العصر", 3], ["الهمزة", 9], ["الفيل", 5], ["قريش", 4], ["الماعون", 7], ["الكوثر", 3], ["الكافرون", 6], ["النصر", 3], ["المسد", 5], ["الإخلاص", 4], ["الفلق", 5], ["الناس", 6]
    ],

    init() {
        this.setDates();
        this.fillSuras();
        this.updateAyat();
    },

    setDates() {
        const n = new Date();
        document.getElementById('m-date').innerText = n.toLocaleDateString('ar-EG');
        document.getElementById('h-date').innerText = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-umalqura-nu-latn', {day:'numeric', month:'long', year:'numeric'}).format(n);
    },

    fillSuras() {
        const s = document.getElementById('user-sura');
        this.suras.forEach((val, i) => s.add(new Option(val[0], i + 1)));
    },

    updateAyat() {
        const sIdx = document.getElementById('user-sura').value;
        const count = this.suras[sIdx - 1][1];
        const from = document.getElementById('user-from'), to = document.getElementById('user-to');
        from.innerHTML = ''; to.innerHTML = '';
        for(let i=1; i<=count; i++) {
            from.add(new Option(i, i));
            to.add(new Option(i, i));
        }
        this.fetchPreview('from');
    },

    async fetchPreview(type) {
        const s = document.getElementById('user-sura').value;
        const a = document.getElementById(`user-${type}`).value;
        const display = document.getElementById('quran-display');
        display.innerText = "جاري جلب الآية...";
        try {
            const res = await fetch(`https://api.alquran.cloud/v1/ayah/${s}:${a}/ar.medina`);
            const data = await res.json();
            display.innerText = data.data.text;
        } catch(e) { display.innerText = "تعذر الاتصال"; }
    }
};

window.onload = () => System.init();

document.getElementById('pro-form').onsubmit = async function(e) {
    e.preventDefault();
    document.getElementById('loading-overlay').style.display = 'flex';
    
    const d = new FormData();
    d.append("Name", document.getElementById('user-name').value);
    d.append("Phone", document.getElementById('user-phone').value);
    d.append("Sura", document.getElementById('user-sura').selectedOptions[0].text);
    d.append("From", document.getElementById('user-from').value);
    d.append("To", document.getElementById('user-to').value);

    try {
        await fetch(SCRIPT_URL, { method: 'POST', body: d, mode: 'no-cors' });
        alert("تم إرسال طلبك بنجاح!");
        location.reload();
    } catch(err) {
        alert("حدث خطأ");
        document.getElementById('loading-overlay').style.display = 'none';
    }
};
</script>

</body>
</html>
